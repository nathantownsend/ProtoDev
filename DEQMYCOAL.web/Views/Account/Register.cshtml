@model DEQMYCOAL.web.ViewModels.RegistrationVM

@{
    Layout = "~/Views/Shared/_LayoutSecurity.cshtml";
}

@using (Html.BeginForm()) {
<article>

    <fieldset class="setapart">
        
        <legend>Register to Access myCOAL</legend>
        <p>New coal mining or prospecting operators, public users or partner agency users must register with the form below, before gaining access to the Montana DEQ ePermitting Portal. If registering as a representative of an existing coal mining or prospecting operation, please contact the company directly in order to be registered to use this site.</p>
        
        <hr />

        <label for="reason">Describe your reason for registering:</label>
        <textarea class="commentstextarea" name="RegistrationDescription" id="RegistrationDescription" required>@Model.Registration.RegistrationDescription</textarea>
        
        @Html.Partial("_userAccessRoleDropdown", Model.Registration.AccessRoleID)
        
        <hr />
        
        
        <fieldset class="setapart"  style="float:left; width:45%;">
                <legend>Personal</legend>
            <label for="FirstName">First Name</label>
            <input type="text" title="First Name" id="FirstName" name="FirstName" value="@Model.Registration.FirstName" required />
        
            <label for="LastName">Last Name</label>
            <input type="text" title="Last Name" id="LastName" name="LastName" value="@Model.Registration.LastName" required />
        
            <label for="Title">Title</label>
            <input type="text" title="Title" id="Title" name="Title" value="@Model.Registration.Title" required />

            <label for="CompanyName">Company</label>
            <input type="text" title="Company" id="CompanyName" name="CompanyName" size="30" value="@Model.Registration.CompanyID" required />
        </fieldset>
        
        <fieldset class="setapart" style="float:right; width:45%;">
            <legend>Contact</legend>
            <label for="Address1">Address</label>
            <input type="text" title="Address" id="Address1" name="Address1" size="50" value="@Model.Registration.Address1" required />
            
            <div style="float:left; padding-right:15px;">
                <label for="City">City</label>
                <input type="text" title="City" id="City" name="City" value="@Model.Registration.City" required />
            </div>        

            <div style="float:left; padding-right:15px;">
                @Html.Partial("_stateDropdown", @Model.Registration.StateID)
            </div>

            <div style="float:left;">
                <label for="Zipcode">Zip Code</label>
                <input type="number" title="Zip Code" id="Zipcode" name="Zipcode" max="99999" value="@Model.Registration.Zipcode" required pattern="\d{5}" />
            </div>

            <div style="clear:both;"></div>

            <label for="Phone">Phone Number</label>
            <input type="text" title="Phone Number" id="Phone" name="Phone" size="12" value="@Model.Registration.Phone" required pattern="\d{3}-\d{3}-\d{4}" />(xxx-xxx-xxxx)

            <label for="Email">Email Address</label>
            <input type="email" title="Email Address" id="Email" name="Email" value="@Model.Registration.Email" required />(Sample@gmail.com)

        </fieldset>

        <div style="clear:both;"></div>
        <hr />

        <p>NOTE: Once the department has verified the information provided, an email will be sent to the address provided, with a temporary password and instructions for completing registration.</p>
        <br />
        <fieldset style="border:dotted #F26522 1px;">
            <legend>Terms of Use</legend> 
            <input type="checkbox" name="TermsOfUse" id="TermsOfUse" style="border:0;" value="true" />I have read and agree to the @Html.ActionLink("Terms of Use", "terms"). Checking this boxes implies a signature.
        </fieldset><br />

        <input id="submit" disabled="disabled" type="submit" value="Submit" class="primary" />
        <input type="reset" value="Cancel" class="secondary" />

        <div class="ValidationMessages">
            @Html.ValidationSummary()
        </div>
    </fieldset>

    <script type="text/javascript">
        $(document).ready(function () {
            $("#TermsOfUse").change(function () {
                var accepted = $(this).is(":checked");
                if (accepted)
                    $("#submit").removeAttr("disabled");
                else
                    $("#submit").attr("disabled", "disabled");
            });
        });
    </script>

</article>
}